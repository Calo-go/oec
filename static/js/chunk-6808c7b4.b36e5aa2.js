(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6808c7b4"],{"11ee":function(t,e,a){},"24a6":function(t,e,a){},"2a12":function(t,e,a){"use strict";var i=a("24a6"),s=a.n(i);s.a},"4ec9":function(t,e,a){"use strict";var i=a("6d61"),s=a("6566");t.exports=i("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),s)},"64ec":function(t,e,a){"use strict";var i=a("11ee"),s=a.n(i);s.a},"89a6":function(t,e){t.exports={messages:{CN:{errorMessage:{connectToWalletFirst:"请先连接钱包",failedToMortgage:"抵押失败:",failedToCancelMortgage:"取消抵押失败:",failedToActive:"启用失败：",invalidInputAmount:"输入金额非法",maximumDepositAmount:"最大存款金额为",depositFailed:"存款失败:",withdrawFailed:"取款失败:",loanFailed:"借款失败:",repaymentFailed:"还款失败:",transactionFailed:"交易失败，错误码:",errorInfo:"错误信息:",liquidateFailed:"清算失败:"},depositList:{totalSupply:"存款总规模",totalBorrow:"借款总规模",rooPrice:"ROO价格",connectToWallet:"连接到钱包",transactionProcessing:"交易处理中",transactionConfirming:"交易确认中",transComUpdateData:"交易完成，正在更新数据...",ok:"确认",cancel:"取消",close:"关闭",detail:"概览",auditingAgency:"审计机构",partner:"合作伙伴",person:{text:"我的持仓",symbol:"币种",deposit:"存款余额",supplyAPY:"存款利率",balanceOfBorrow:{text:"借款余额",filter:{text:"我的借款"}},borrowRate:"借款利率",options:{text:"操作",depositAndDraw:"存取",debit:"借贷"},collateral:"抵押"},markets:{text:"市场",symbol:"币种",totalSupply:"存款规模",supplyAPY:"存款利率",totalBorrow:{text:"借款规模",filter:{text:"市场"}},borrowRate:"借款利率",options:{text:"操作",depositAndDraw:"存取",debit:"借贷"},collateral:"抵押"}},liquidation:{liquidationPool:"清算池",borrowingLimit:"借款额",assetName:"质押资产",assetSupply:"质押额度",risk:"风险值",liquidate:"清算"},liquidationEx:{header:{title:"清算池(0个仓位)",info:"暂无清算池列表"},table:{account:"账户",totalBorrowUSDT:"借款额",totalSupplyUSDT:"抵押额",rate:"健康",operation:"操作",inner:{symbol:"币种",borrowBalance:"借款额",assetSupply:"质押额"},detail:"详情",fold:"收起",risk:"高风险状态，即将被清算",liquidate:"清算",assetRisk:"资产风险"},tips:"要向复合协议提供或偿还{{innerCurRecord.name}},您需要先进行授权",enable:"授权",transactionConfirm:"交易确认"},pledge:{apy:"APR",totalSupply:"存款总量",deposit:"存入",stake:"质押",unstake:"解除质押",balanceOfROO:"钱包余额",approveTips:"您需要先进行授权！",walletBalance:"钱包余额",approve:"授权",loading:"处理中...",card:{stakeBalance:"总质押数量",rooEarned:"累计 ROO 奖励数量",avaliableBalance:"可质押sROO数量",stakedBalance:"已质押sROO数量",totalRewards:"已分配收益",claim:"提取收益"},modal:{title:"存入ROO",noEnoughBalance:"余额不够",invalidInput:"无效输入"}}},US:{errorMessage:{connectToWalletFirst:"Please connect to wallet at first",failedToMortgage:"Failed to mortgage:",failedToCancelMortgage:"Failed to cancel mortgage:",failedToActive:"Failed to active:",invalidInputAmount:"Illegal amount entered",maximumDepositAmount:"The maximum deposit amount is",depositFailed:"Deposit failed:",withdrawFailed:"Withdraw failed:",loanFailed:"Loan failed:",repaymentFailed:"Repayment failed:",transactionFailed:"Transaction failed, error code:",errorInfo:"error information:"},depositList:{totalSupply:"Total Supply",totalBorrow:"Total Borrow",rooPrice:"ROO Price",connectToWallet:"Connect to wallet",transactionProcessing:"Transaction processing",transactionConfirming:"Pending",transComUpdateData:"Transaction completed, updating data ...",close:"close",detail:"Detail",ok:"Ok",cancel:"Cancel",auditingAgency:"Auditing Agency",partner:"Partner",person:{text:"My Position",symbol:"Assets",deposit:"Supply Balance",supplyAPY:"Supply APY",balanceOfBorrow:{text:"Borrow Balance",filter:{text:"My Borrow"}},borrowRate:"Borrow APY",options:{text:"Management",depositAndDraw:"Withdraw",debit:"Collateral"},collateral:"Collateral"},markets:{text:"Markets",symbol:"Markets",totalSupply:"Total Supply",supplyAPY:"Supply APY",totalBorrow:{text:"Total Borrow",filter:{text:"Markets"}},borrowRate:"Borrow APY",options:{text:"Management",depositAndDraw:"Withdraw",debit:"Borrow"},collateral:"Collateral"}},liquidation:{liquidationPool:"Liquidation Pool",borrowingLimit:"Borrowing Limit",assetName:"Asset Name",assetSupply:"Asset Supply",risk:"Risk",liquidate:"Liquidate"},liquidationEx:{header:{title:"Liquidation Pool (none)",info:"None liquidation pool list"},table:{account:"Account",totalBorrowUSDT:"Total Borrow",totalSupplyUSDT:"Total Supply",rate:"Rate",operation:"Operation",inner:{symbol:"Symbol",borrowBalance:"Borrow Balance",assetSupply:"Asset Supply"},detail:"Detail",fold:"fold",risk:"high risk state",liquidate:"Liquidate",assetRisk:"Risk"},tips:"To supply or return {{record.name}} to the protocol, you need to approve it first",enable:"Approve"},pledge:{apy:"APR",loading:"Loading...",totalSupply:"TVL",stake:"Stake",unstake:"Unstake",deposit:"Deposit",balanceOfROO:"ROO balance",approve:"Approve",card:{stakeBalance:"Total stake",rooEarned:"ROO earned",avaliableBalance:"Avaliable sROO balance",stakedBalance:"Staked balance",totalRewards:"Total reward",claim:"Claim"},modal:{title:"Depositing ROO",noEnoughBalance:"Not enough balance",invalidInput:"invalid input"},approveTips:"You need to approve first",walletBalance:"Wallet balance"}},HK:{depositList:{},liquidation:{}}}}},a999:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isMobile?t._e():a("div",{staticClass:"table-container"},[a("div",{staticClass:"table-body flex-col"},[a("div",{staticClass:"table-thead flex-row"},[a("span",{staticClass:"thead-cell"},[t._v(t._s(t.$t("liquidationEx.table.account")))]),a("span",{staticClass:"thead-cell"},[t._v(t._s(t.$t("liquidationEx.table.totalBorrowUSDT")))]),a("span",{staticClass:"thead-cell"},[t._v(t._s(t.$t("liquidationEx.table.totalSupplyUSDT")))]),a("span",{staticClass:"thead-cell"},[t._v(t._s(t.$t("liquidationEx.table.rate")))]),a("span",{staticClass:"thead-cell"},[t._v(t._s(t.$t("liquidationEx.table.operation")))])]),a("div",{staticClass:"table-content"},[0!=t.liqs.length||t.loadingLiqs?t._e():a("div",{staticClass:"row flex-row"},[a("div",{staticClass:"cell flex-col"},[a("p",{staticClass:"table-blank"},[t._v(t._s(this.$t("liquidationEx.header.info")))])])]),t._l(t.liqs,(function(e,i){return a("div",{key:i,staticClass:"row"},[a("div",{staticClass:"flex-row"},[a("div",{staticClass:"cell flex-col"},[a("div",{staticClass:"address"},[t._v(" "+t._s(e.account.substring(0,6)+"..."+e.account.substring(38))+" ")])]),a("div",{staticClass:"cell flex-col"},[a("div",{staticClass:"text"},[t._v(" $"+t._s(Math.floor(100*parseFloat(e.totalBorrowUSDT))/100)+" ")])]),a("div",{staticClass:"cell flex-col"},[a("div",{staticClass:"text",style:{color:"#5700AE"}},[t._v(" $"+t._s(Math.floor(100*parseFloat(e.totalSupplyUSDT))/100)+" ")])]),a("div",{staticClass:"cell flex-col"},[a("div",{staticClass:"risk-progress"},[a("div",{staticClass:"risk-progress-mask",style:{width:166*(100-e.risk)/100+"px"}})]),a("div",{staticClass:"risk-text"},[t._v(" "+t._s(Math.floor(100*parseFloat(e.risk))/100)+"% "),a("icon-font",{staticClass:"icon",attrs:{type:"icon-tishi"}}),e.risk>90?a("span",{style:{fontSize:"10px",fontWeight:"normal"}},[t._v(" "+t._s(t.$t("liquidationEx.table.risk"))+" ")]):t._e()],1)]),a("div",{staticClass:"cell flex-col"},[a("div",{staticClass:"op-btn"},[e.key===t.curRecord.key?a("a",{on:{click:function(e){return t.hiddenChildTable()}}},[a("a-button",{staticClass:"qs-btn qs-btn-selected",attrs:{type:"primary",icon:"menu-fold"}},[t._v(" "+t._s(t.$t("liquidationEx.table.detail"))+" ")])],1):a("a",{on:{click:function(a){return t.handleExpand(e)}}},[a("a-button",{staticClass:"qs-btn",attrs:{type:"primary",icon:"menu-unfold"}},[t._v(" "+t._s(t.$t("liquidationEx.table.detail"))+" ")])],1)])])]),e.key===t.curRecord.key?a("div",{staticClass:"child-table-container"},[a("div",{staticClass:"table-body flex-col"},[a("div",{staticClass:"table-thead flex-row"},[a("span",{staticClass:"thead-cell cell-center"},[t._v(t._s(t.$t("liquidationEx.table.inner.symbol")))]),a("span",{staticClass:"thead-cell"},[t._v(t._s(t.$t("liquidationEx.table.inner.borrowBalance")))]),a("span",{staticClass:"thead-cell"},[t._v(t._s(t.$t("liquidationEx.table.inner.assetSupply")))]),a("span",{staticClass:"thead-cell cell-center"},[t._v(t._s(t.$t("liquidationEx.table.operation")))])]),a("div",{staticClass:"table-content"},[t._l(t.innerData,(function(e,i){return a("div",{key:i,staticClass:"row flex-row"},[a("div",{staticClass:"cell flex-col"},[a("div",{staticClass:"logo"},[a("img",{attrs:{src:e.base64}})]),a("div",{staticClass:"logo-text"},[t._v(t._s(e.symbol.substr(1)))])]),a("div",{staticClass:"cell flex-col"},[a("div",{staticClass:"text"},[t._v(" $"+t._s((e.borrowUSDT*e.assetSupplyUSDT/t.curRecord.totalSupplyUSDT).toFixed(8))+"/$"+t._s(e.borrowUSDT.toFixed(8))+" ")]),a("div",{staticClass:"text"},[t._v(" "+t._s(parseFloat(t.computBorrow(e)).toFixed(8))+"/"+t._s(parseFloat(e.borrow).toFixed(8))+" "+t._s(e.name)+" ")])]),a("div",{staticClass:"cell flex-col"},[a("div",{staticClass:"text"},[t._v(" $"+t._s((e.assetSupplyUSDT*e.borrowUSDT/t.curRecord.totalBorrowUSDT).toFixed(8))+"/$"+t._s(e.assetSupplyUSDT)+" ")]),a("div",{staticClass:"text"},[t._v(" "+t._s(parseFloat(e.assetSupplyUnderlying).toFixed(8))+" "+t._s(e.assetName)+" ")])]),a("div",{staticClass:"cell flex-col cell-center"},[a("div",{staticClass:"op-btn"},[t.curRecord.risk<100.2?a("a-button",{staticClass:"qs-btn qs-btn-selected",attrs:{type:"primary"}},[t._v(" "+t._s(t.$t("liquidationEx.table.liquidate"))+" ")]):a("a-button",{staticClass:"qs-btn",attrs:{type:"primary"},on:{click:function(a){return t.onLiquidate(a,e)}}},[t._v(" "+t._s(t.$t("liquidationEx.table.liquidate"))+" ")])],1)])])})),t.loadingInnerData?a("div",{staticClass:"row flex-row"},[a("div",{staticClass:"cell flex-col",staticStyle:{width:"100%","text-align":"center"}},[a("a-spin")],1)]):t._e()],2)])]):t._e()])})),t.loadingLiqs?a("div",{staticClass:"row flex-row"},[a("div",{staticClass:"cell flex-col",staticStyle:{width:"100%","text-align":"center"}},[a("a-spin")],1)]):t._e()],2)])]),t.isMobile?a("div",{staticClass:"table-container-m"},[a("div",{staticClass:"table-body flex-col"},t._l(t.liqs,(function(e,i){return a("div",{key:i,staticClass:"table-card flex-col"},[a("div",{staticClass:"table-card-header flex-row"},[a("div",{staticClass:"address"},[t._v(" "+t._s(e.account.substring(0,6)+"..."+e.account.substring(38))+" ")]),a("div",{staticClass:"op-btn"},[e.key===t.curRecord.key?a("a",{on:{click:function(e){return t.hiddenChildTable()}}},[a("a-button",{staticClass:"qs-btn qs-btn-selected",attrs:{type:"primary",icon:"menu-fold"}},[t._v(" "+t._s(t.$t("liquidationEx.table.fold"))+" ")])],1):a("a",{on:{click:function(a){return t.handleExpand(e)}}},[a("a-button",{staticClass:"qs-btn",attrs:{type:"primary",icon:"menu-unfold"}},[t._v(" "+t._s(t.$t("liquidationEx.table.detail"))+" ")])],1)])]),a("div",{staticClass:"table-card-divider"}),a("div",{staticClass:"table-card-content flex-row"},[a("div",{staticClass:"block-one-line"},[a("span",{staticClass:"title"},[t._v(t._s(t.$t("liquidationEx.table.inner.borrowBalance"))+"：")]),a("span",{staticClass:"num num-black"},[t._v(" $"+t._s(Math.floor(100*parseFloat(e.totalBorrowUSDT))/100)+" ")])]),a("div",{staticClass:"block-one-line"},[a("span",{staticClass:"title"},[t._v(t._s(t.$t("liquidationEx.table.inner.assetSupply"))+"：")]),a("span",{staticClass:"num num-blue"},[t._v(" $"+t._s(Math.floor(100*parseFloat(e.totalSupplyUSDT))/100)+" ")])]),a("div",{staticClass:"block-one-line"},[a("span",{staticClass:"title"},[t._v(t._s(t.$t("liquidationEx.table.assetRisk"))+"：")]),a("span",{staticClass:"num num-blue"})]),a("div",{staticClass:"block-one-line"}),a("div",{staticClass:"block-one-line risk-line"},[a("div",{staticClass:"risk-progress"},[a("div",{staticClass:"risk-progress-mask",style:{width:166*(100-e.risk)/100+"px"}})]),a("div",{staticClass:"risk-text"},[t._v(" "+t._s(Math.floor(100*parseFloat(e.risk))/100)+"% "),a("icon-font",{staticClass:"icon",attrs:{type:"icon-tishi"}}),e.risk>90?a("span",{style:{fontSize:"10px",fontWeight:"normal"}},[t._v(" "+t._s(t.$t("liquidationEx.table.risk"))+" ")]):t._e()],1)])]),e.key===t.curRecord.key?a("div",{staticStyle:{width:"100%"}},t._l(t.innerData,(function(e,i){return a("div",{key:i,staticClass:"child-table-card flex-col"},[a("div",{staticClass:"table-card-header flex-row"},[a("div",{staticClass:"logo"},[a("img",{attrs:{src:e.base64}})]),a("div",{staticClass:"text",staticStyle:{"margin-right":"15px"}},[t._v(t._s(e.symbol.substr(1)))]),a("div",{staticClass:"op-btn"},[t.curRecord.risk<100.2?a("a-button",{staticClass:"qs-btn qs-btn-selected",attrs:{type:"primary"}},[t._v(" "+t._s(t.$t("liquidationEx.table.liquidate"))+" ")]):a("a-button",{staticClass:"qs-btn",attrs:{type:"primary"},on:{click:function(a){return t.onLiquidate(a,e)}}},[t._v(" "+t._s(t.$t("liquidationEx.table.liquidate"))+" ")])],1)]),a("div",{staticClass:"table-card-divider"}),a("div",{staticClass:"table-card-content flex-row"},[a("div",{staticClass:"num-block flex-col"},[a("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("liquidationEx.table.inner.borrowBalance"))+"： ")]),a("div",{staticClass:"text"},[t._v(" $"+t._s((e.borrowUSDT*e.assetSupplyUSDT/t.curRecord.totalSupplyUSDT).toFixed(8))+"/$"+t._s(e.borrowUSDT.toFixed(8))+" ")]),a("div",{staticClass:"text"},[t._v(" "+t._s(parseFloat(t.computBorrow(e)).toFixed(8))+"/"+t._s(parseFloat(e.borrow).toFixed(8))+" "+t._s(e.name)+" ")])]),a("div",{staticClass:"num-block flex-col"},[a("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("liquidationEx.table.inner.assetSupply"))+"： ")]),a("div",{staticClass:"text"},[t._v(" $"+t._s((e.assetSupplyUSDT*e.borrowUSDT/t.curRecord.totalBorrowUSDT).toFixed(8))+"/$"+t._s(e.assetSupplyUSDT)+" ")]),a("div",{staticClass:"text"},[t._v(" "+t._s(parseFloat(e.assetSupplyUnderlying).toFixed(8))+" "+t._s(e.assetName)+" ")])])])])})),0):t._e()])})),0)]):t._e(),a("a-modal",{class:{"popup-ensure-card":!t.isMobile,"popup-ensure-card-m":t.isMobile},attrs:{width:"",maskClosable:!0,closable:!0,footer:null},model:{value:t.bNeedEnable,callback:function(e){t.bNeedEnable=e},expression:"bNeedEnable"}},[a("a-card",{staticClass:"project-list",staticStyle:{"margin-bottom":"2px","text-align":"center"},attrs:{bordered:!1,"body-style":{padding:0}}},[a("div",[a("a-card",{attrs:{bordered:!1,"body-style":{padding:0}}},[a("div",{staticClass:"wallet"},[a("b",[t._v(" "+t._s(t.tt("liquidationEx.tips","{{innerCurRecord.name}}",t.innerCurRecord.name))+" ")])]),a("a-form-item",[a("a-button",{staticStyle:{width:"100%","margin-top":"24px"},attrs:{size:"large",loading:t.btnLoading,type:"primary"},on:{click:t.approve}},[t._v(t._s(t.$t("liquidationEx.enable")))])],1)],1)],1)])],1)],1)},s=[],n=(a("7db0"),a("b0c0"),a("4ec9"),a("b680"),a("d3b7"),a("ac1f"),a("25f0"),a("3ca3"),a("5319"),a("1276"),a("ddb0"),a("96cf"),a("1da1")),r=a("5530"),o=a("b775"),l=a("5880"),c=a("c030"),d=a("4d8a"),u=a("db50"),p=[],b={name:"QueryList",i18n:a("89a6"),components:{IconFont:u["a"]},data:function(){return{liqs:[],loadingLiqs:!1,liqsMap:new Map,innerData:p,loadingInnerData:!1,expandedRowKeys:[],curRecord:{},innerCurRecord:{},advanced:!0,selectedRows:[],ModalText:"Content of the modal",visible:!1,confirmVisible:!1,confirmLoading:!1,liqLoading:!1,opType:"depOrRedeem",timer:"",bNeedEnable:!1,btnLoading:!1}},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(l["mapState"])("coins",["coins","balance","signer","walletAddress","liqArray","comptrollerErrorReporter","comptrollerFailureInfo","tokenErrorReporter","tokenFailureInfo","USDTDecimals","loadingAddresses","firstCoinLoaded","loadingCoins"])),Object(l["mapGetters"])("coins",["comptrollerObj","dexPriceObj","tokenHelper"])),Object(l["mapState"])("setting",["isMobile"])),{},{confirmTitle:function(){return this.$t("liquidationEx.transactionConfirm")}}),authorize:{deleteRecord:"delete"},watch:{confirmVisible:function(){this.confirmVisible||(this.confirmTitle=this.$t("liquidationEx.transactionConfirm"))},liqArray:function(){0!=this.liqArray.length&&clearInterval(this.timer)},loadingAddresses:function(){this.loadingAddresses||this.initMarketData().then((function(t){}))}},methods:Object(r["a"])(Object(r["a"])({},Object(l["mapActions"])("coins",["initMarketData"])),{},{tt:function(t,e,a){return this.$t(t).replace(e,a)},handleExpand:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i,s,n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.loadingInnerData=!0,e.curRecord=t,i=[],a.next=5,e.comptrollerObj.getAssetsIn(t.account);case 5:s=a.sent,n=regeneratorRuntime.mark((function a(n){var r,o,l,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=e.coins.find((function(t){return t.address.toLowerCase()==s[n].toLowerCase()})),!r){a.next=25;break}return o={},o["symbol"]=r.symbol,o["name"]=r.name,o["decimals"]=r.decimals,o["rate"]=r.rate,o["underlyingDecimals"]=r.underlyingDecimals,o["underlyingPrice"]=r.underlyingPrice,o["underlyingObj"]=r.underlyingObj,o["contractObj"]=r.contractObj,o["address"]=r.address,o["base64"]=r.BASE64,a.next=15,r.contractObj.balanceOf(t.account);case 15:return l=a.sent,o["balanceOf"]=c["a"].utils.formatUnits(l,r.decimals),o["balanceOfUnderlying"]=e.cToken2Underlying(o.balanceOf,o.decimals,o.rate,o.underlyingDecimals),o["balanceOfUSDT"]=parseFloat(e.underlying2USDT(e.cToken2Underlying(o.balanceOf,o.decimals,o.rate,o.underlyingDecimals),o.underlyingDecimals,o.underlyingPrice)),a.next=21,r.contractObj.borrowBalanceStored(t.account);case 21:d=a.sent,o["borrow"]=c["a"].utils.formatUnits(d,r.underlyingDecimals),o["borrowUSDT"]=parseFloat(e.underlying2USDT(o.borrow,o.underlyingDecimals,o.underlyingPrice)),i.push(o);case 25:case"end":return a.stop()}}),a)})),r=0;case 8:if(!(r<s.length)){a.next=13;break}return a.delegateYield(n(r),"t0",10);case 10:r++,a.next=8;break;case 13:e.generlLiqLists(t.account,i),e.innerData=e.liqsMap.get(t.key),e.loadingInnerData=!1;case 16:case"end":return a.stop()}}),a)})))()},hiddenChildTable:function(){this.curRecord={}},computBorrow:function(t){return this.USDT2Underlying((t.borrowUSDT*t.assetSupplyUSDT/this.curRecord.totalSupplyUSDT).toFixed(t.underlyingDecimals),t.underlyingPrice,t.underlyingDecimals)},generlLiqLists:function(t,e){var a=[];this.liqsMap.clear();for(var i=0,s=0;s<e.length;s++)for(var n=0;n<e.length;n++){if(0==parseFloat(e[s].borrow))break;if(0!=parseFloat(e[n].balanceOf)){var r={};r["key"]=i++,r["account"]=t,r["name"]=e[s].name,r["symbol"]=e[s].symbol,r["decimals"]=e[s].decimals,r["rate"]=e[s].rate,r["underlyingDecimals"]=e[s].underlyingDecimals,r["underlyingPrice"]=e[s].underlyingPrice,r["address"]=e[s].address,r["base64"]=e[s].base64,r["balanceOf"]=e[s].balanceOf,r["borrow"]=e[s].borrow,r["borrowUSDT"]=e[s].borrowUSDT,r["underlyingObj"]=e[s].underlyingObj,r["contractObj"]=e[s].contractObj,r["assetName"]=e[n].name,r["assetRate"]=e[n].rate,r["assetDecimals"]=e[n].decimals,r["assetAddress"]=e[n].address,r["assetUnderlyingPrice"]=e[n].underlyingPrice,r["assetSupply"]=e[n].balanceOf,r["assetSupplyUnderlying"]=e[n].balanceOfUnderlying,r["assetSupplyUSDT"]=e[n].balanceOfUSDT,a.push(r)}}this.liqsMap.set(t,a)},getAccounts:function(){var t=this;this.loadingLiqs=!0,0!=this.coins.length&&(this.liqs.length>0?clearInterval(this.timer):(clearInterval(this.timer),this.timer=setInterval(this.getAccounts,5e3)),Object(o["e"])("http://18.166.243.236:9727/liquidations",o["a"].GET).then(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(a){var i,s,n,r,o,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=a.data.liquidations,null!=i){e.next=3;break}return e.abrupt("return");case 3:t.liqs=[],s=!0,n=0;case 6:if(!(n<i.length)){e.next=29;break}if(r={},r["key"]=i[n].account,r["account"]=i[n].account,!s){e.next=22;break}return e.next=13,t.comptrollerObj.getAccountSumCollateralAndBorrow(i[n].account,"0x0000000000000000000000000000000000000000",0,0);case 13:return o=e.sent,"0"==o[1]?r["risk"]=0:r["risk"]=100*parseFloat(Object(d["formatEther"])(Object(d["parseUnits"])(o[2].toString(),18).div(o[1]))),r["totalBorrowUSDT"]=parseFloat(Object(d["formatUnits"])(o[2],6)),e.next=18,t.tokenHelper.getTotalAssert(i[n].account);case 18:l=e.sent,r["totalSupplyUSDT"]=parseFloat(Object(d["formatUnits"])(l[1],6)),e.next=25;break;case 22:r["risk"]=100*parseFloat(i[n].healthRate),r["totalBorrowUSDT"]=parseFloat(Object(d["formatUnits"])(c["a"].BigNumber.from(i[n].totalBorrow),6)),r["totalSupplyUSDT"]=parseFloat(Object(d["formatUnits"])(c["a"].BigNumber.from(i[n].totalAsset),6));case 25:t.liqs.push(r);case 26:n++,e.next=6;break;case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.loadingLiqs=!1)},approve:function(){var t=this;this.btnLoading=!0,this.innerCurRecord.underlyingObj.approve(this.innerCurRecord.address,c["a"].constants.MaxUint256).then((function(t){})).catch((function(e){t.$message.error(t.$t("enableFailed")+e.message())})),this.innerCurRecord.underlyingObj.on("Approval",(function(e,a,i){"0"==i.toString()?t.bNeedEnable=!0:t.bNeedEnable=!1}))},onLiquidate:function(t,e){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==a.walletAddress){t.next=3;break}return a.$message.warning(a.$t("errorMessage.connectToWalletFirst")),t.abrupt("return");case 3:if(a.innerCurRecord=e,"OKT"==e.name){t.next=14;break}return t.next=7,e.underlyingObj.allowance(a.walletAddress,e.address);case 7:if(i=t.sent,"0"!=i.toString()){t.next=13;break}return a.bNeedEnable=!0,t.abrupt("return");case 13:a.bNeedEnable=!1;case 14:"OKT"!=e.name?e.contractObj.liquidateBorrow(e.account,Object(d["parseUnits"])(a.computBorrow(e),e.underlyingDecimals),e.assetAddress).then((function(t){e.contractObj.on("Failure",(function(e,i,s,n){t.hash==n.transactionHash&&a.$message.error(a.$t("errorMessage.liquidateFailed"),a.tokenErrorReporter[e],a.tokenFailureInfo[i])}))})).catch((function(t){a.$message.error(a.$t("errorMessage.liquidateFailed")+t.data.messages)})):(s={value:Object(d["parseUnits"])(a.computBorrow(e),e.underlyingDecimals)},e.contractObj.liquidateBorrow(e.account,e.assetAddress,s).then((function(t){e.contractObj.on("Failure",(function(e,i,s,n){t.hash==n.transactionHash&&a.$message.error(a.$t("errorMessage.liquidateFailed"),a.tokenErrorReporter[e],a.tokenFailureInfo[i])}))})).catch((function(t){a.$message.error(a.$t("errorMessage.liquidateFailed")+t.data.message)}))),e.contractObj.on("LiquidateBorrow",(function(t,e,i,s,n,r){a.getAccounts()}));case 16:case"end":return t.stop()}}),t)})))()},cToken2Underlying:function(t,e,a,i){if(0==t)return"0";var s=Object(d["formatUnits"])(Object(d["parseUnits"])(t,e).mul(a),i),n=c["a"].BigNumber.from(s.split(".")[0]);return Object(d["formatEther"])(n)},underlying2USDT:function(t,e,a){if(0==t)return"0";var i=Object(d["parseUnits"])(parseFloat(t).toFixed(e).toString(),e).mul(a).toString(),s=Object(d["formatEther"])(i),n=c["a"].BigNumber.from(s.split(".")[0]),r=Object(d["formatUnits"])(n,this.USDTDecimals);return r},USDT2Underlying:function(t,e,a){if(!isNaN(t)){var i=Object(d["parseUnits"])(parseFloat(t).toFixed(this.USDTDecimals),this.USDTDecimals),s=Object(d["parseUnits"])(i.toString(),18),n=Object(d["formatUnits"])(s.div(e).toString(),a);return n}},hideConfirmModal:function(){this.confvisible=!1},getBalanceOf:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.record.contractObj.balanceOf(t.walletAddress);case 2:a=e.sent,t.record.balanceOf=c["a"].utils.formatUnits(a,t.decimals);case 4:case"end":return e.stop()}}),e)})))()},showModalDR:function(t,e){this.opType="depOrRedeem",this.visible=!0,this.record=e},showModalBR:function(t,e){this.opType="borrowAndRepay",this.visible=!0,this.record=e},collateral:function(t,e){this.comptrollerObj.enterMarkets([e.address]).then((function(t){}))},onChange:function(t,e){t?this.comptrollerObj.enterMarkets([e.address]).then((function(t){})).catch((function(t){})):this.comptrollerObj.exitMarket(e.address).then((function(t){})).catch((function(t){}))},handleOk:function(t){var e=this;this.ModalText="The modal will be closed after two seconds"+t,this.confirmLoading=!0,setTimeout((function(){e.visible=!1,e.confirmLoading=!1}),2e3)},handleCancel:function(t){this.visible=!1},expandIcon:function(t){var e=this.$createElement;return e("span",{style:"margin-right:0px"},[e("a-icon",{attrs:{type:"down-circle"}})])}}),mounted:function(){this.timer=setInterval(this.getAccounts,5e3),this.getAccounts(),this.firstCoinLoaded||!this.loadingCoins||this.loadingAddresses||this.initMarketData()},beforeDestroy:function(){clearInterval(this.timer)}},f=b,m=(a("2a12"),a("64ec"),a("0c7c")),g=Object(m["a"])(f,i,s,!1,null,"2b8906ca",null);e["default"]=g.exports}}]);