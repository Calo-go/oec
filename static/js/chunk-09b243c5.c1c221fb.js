(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09b243c5"],{"6e3f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{class:{"stat-container-m":t.isMobile,"stat-container":!t.isMobile}},[a("div",{staticClass:"stat flex-col"},[a("div",{staticClass:"stat-content flex-row"},[a("div",{staticClass:"stat-item flex-col"},[a("span",{staticClass:"stat-item-title"},[t._v(t._s(t.$t("pledge.apy")))]),a("div",{staticClass:"stat-item-value"},[a("span",{staticClass:"number"},[t._v(" "+t._s(t.apy)+"%")])])]),t._m(0),a("div",{staticClass:"stat-item flex-col"},[a("span",{staticClass:"stat-item-title"},[t._v(t._s(t.$t("pledge.totalSupply")))]),a("div",{staticClass:"stat-item-value"},[a("span",{staticClass:"number"},[t._v(" "+t._s(Math.floor(100*t.totalSupply)/100))])])])]),a("div",{staticClass:"stat-operate"},[a("div",{staticClass:"dep-btn"},[a("a-button",{staticClass:"dep-btn",attrs:{type:"default",icon:"plus",size:t.isMobile?"small":"large"},on:{click:t.openModalDeposit}},[t._v(" "+t._s(t.$t("pledge.deposit"))+" ")])],1)])])]),t.isMobile?t._e():a("div",{staticClass:"stake-container flex-row"},[a("div",{staticClass:"content-left flex-row"},[a("div",{staticClass:"overview flex-col"},[a("div",{staticClass:"wrap"},[a("div",{staticClass:"title"},[t._v("sROO")]),a("div",{staticClass:"apy"},[a("span",[t._v("APR "+t._s(t.apy)+"%")])]),a("div",{staticClass:"text",staticStyle:{"margin-top":"25px"}},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("pledge.card.stakeBalance"))+"：")]),a("span",{staticClass:"value"},[t._v(t._s(Math.floor(100*t.totalStake)/100)+" sROO")])]),a("div",{staticClass:"text"},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("pledge.card.totalRewards"))+"：")]),a("span",{staticClass:"value"},[t._v(t._s(Math.floor(100*t.totalRewards)/100))])])])]),a("div",{staticClass:"input-area flex-col"},[a("div",{staticClass:"wrap"},[a("a-space",{attrs:{direction:"vertical",size:50}},[a("div",{staticClass:"input-group flex-col"},[a("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("pledge.card.avaliableBalance"))+"： "),a("span",{staticClass:"value"},[t._v(t._s(Math.floor(1e4*t.stronkBalanceOf)/1e4))])]),a("div",{staticClass:"input"},[a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"required",whitespace:!0}]}],expression:"['name', {rules: [{ required: true, message: 'required', whitespace: true}]}]"}],attrs:{autocomplete:"autocomplete",size:"large",placeholder:"0",suffix:"sROO"},model:{value:t.stakeInput.value,callback:function(e){t.$set(t.stakeInput,"value",e)},expression:"stakeInput.value"}})],1)],1),a("div",{staticClass:"progress"},[a("a-space",[a("a-button",{attrs:{type:"default",shape:"round"},on:{click:function(e){return t.onStakeValueInput(.25)}}},[t._v(" 25% ")]),a("a-button",{attrs:{type:"default",shape:"round"},on:{click:function(e){return t.onStakeValueInput(.5)}}},[t._v(" 50% ")]),a("a-button",{attrs:{type:"default",shape:"round"},on:{click:function(e){return t.onStakeValueInput(.75)}}},[t._v(" 75% ")]),a("a-button",{attrs:{type:"default",shape:"round"},on:{click:function(e){return t.onStakeValueInput(1)}}},[t._v(" 100% ")])],1)],1),a("div",{staticClass:"button"},[a("a-button",{attrs:{size:"large",type:"primary",disabled:t.stakeInput.buttonDisable||!t.stakeEnable},on:{click:t.onClickStake}},[t._v(t._s(t.$t("pledge.stake")))])],1),a("div",{staticClass:"tips"},[t._v(" "+t._s(t.stakeInput.tips)+" ")])]),a("div",{staticClass:"input-group flex-col"},[a("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("pledge.card.stakedBalance"))+"： "),a("span",{staticClass:"value"},[t._v(t._s(Math.floor(1e4*t.stakeBalanceOf)/1e4))])]),a("div",{staticClass:"input"},[a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"hello world",whitespace:!0}]}],expression:"['name', {rules: [{ required: true, message: 'hello world', whitespace: true}]}]"}],attrs:{autocomplete:"autocomplete",size:"large",placeholder:"0",suffix:"sROO"},model:{value:t.unstakeInput.value,callback:function(e){t.$set(t.unstakeInput,"value",e)},expression:"unstakeInput.value"}})],1)],1),a("div",{staticClass:"progress"},[a("a-space",[a("a-button",{attrs:{type:"default",shape:"round"},on:{click:function(e){return t.onUnStakeValueInput(.25)}}},[t._v(" 25% ")]),a("a-button",{attrs:{type:"default",shape:"round"},on:{click:function(e){return t.onUnStakeValueInput(.5)}}},[t._v(" 50% ")]),a("a-button",{attrs:{type:"default",shape:"round"},on:{click:function(e){return t.onUnStakeValueInput(.75)}}},[t._v(" 75% ")]),a("a-button",{attrs:{type:"default",shape:"round"},on:{click:function(e){return t.onUnStakeValueInput(1)}}},[t._v(" 100% ")])],1)],1),a("div",{staticClass:"button"},[a("a-button",{attrs:{size:"large",type:"primary",disabled:t.unstakeInput.buttonDisable},on:{click:t.onClickUnStake}},[t._v(t._s(t.$t("pledge.unstake")))])],1),a("div",{staticClass:"tips"},[t._v(" "+t._s(t.unstakeInput.tips)+" ")])])])],1)])]),a("div",{staticClass:"content-right flex-col"},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("pledge.card.rooEarned"))+":")]),a("div",{staticClass:"number"},[t._v(t._s(Math.floor(100*t.rooEarned)/100))]),a("div",{staticClass:"button"},[a("a-button",{attrs:{size:"large",type:"primary",disabled:t.canDrawEarned<=0},on:{click:t.onClickClaim}},[t._v(t._s(t.$t("pledge.card.claim")))])],1)])]),t.isMobile?a("div",{staticClass:"stake-container-m flex-col"},[a("div",{staticClass:"header flex-col"},[a("div",{staticClass:"title flex-row"},[a("div",{staticClass:"label"},[t._v("sROO")]),a("div",{staticClass:"apy"},[t._v("APR "+t._s(t.apy)+"%")])]),a("div",{staticClass:"overview flex-col"},[a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("pledge.card.stakeBalance"))+"：")]),a("span",{staticClass:"value"},[t._v(t._s(Math.floor(100*t.totalStake)/100)+" SROO")])]),a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("pledge.card.totalRewards"))+"：")]),a("span",{staticClass:"value"},[t._v(t._s(Math.floor(100*t.totalRewards)/100))])])])]),a("div",{staticClass:"input-area flex-col"},[a("div",{staticClass:"wrap flex-col"},[a("div",{staticClass:"input-group flex-col",staticStyle:{"margin-top":"30px"}},[a("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("pledge.card.avaliableBalance"))+"： "),a("span",{staticClass:"value"},[t._v(t._s(Math.floor(1e4*t.stronkBalanceOf)/1e4))])]),a("div",{staticClass:"input"},[a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"required",whitespace:!0}]}],expression:"['name', {rules: [{ required: true, message: 'required', whitespace: true}]}]"}],attrs:{autocomplete:"autocomplete",size:"large",placeholder:"0",suffix:"sROO"},model:{value:t.stakeInput.value,callback:function(e){t.$set(t.stakeInput,"value",e)},expression:"stakeInput.value"}})],1)],1),a("div",{staticClass:"progress"},[a("a-space",[a("a-button",{attrs:{type:"default",shape:"round"},on:{click:function(e){return t.onStakeValueInput(.25)}}},[t._v(" 25% ")]),a("a-button",{attrs:{type:"default",shape:"round"},on:{click:function(e){return t.onStakeValueInput(.5)}}},[t._v(" 50% ")]),a("a-button",{attrs:{type:"default",shape:"round"},on:{click:function(e){return t.onStakeValueInput(.75)}}},[t._v(" 75% ")]),a("a-button",{attrs:{type:"default",shape:"round"},on:{click:function(e){return t.onStakeValueInput(1)}}},[t._v(" 100% ")])],1)],1),a("div",{staticClass:"button"},[a("a-button",{attrs:{size:"large",type:"primary",disabled:t.stakeInput.buttonDisable||!t.stakeEnable},on:{click:t.onClickStake}},[t._v(t._s(t.$t("pledge.stake")))])],1),a("div",{staticClass:"tips"},[t._v(" "+t._s(t.stakeInput.tips)+" ")])]),a("div",{staticClass:"input-group flex-col",staticStyle:{"margin-top":"30px"}},[a("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("pledge.card.stakedBalance"))+"： "),a("span",{staticClass:"value"},[t._v(t._s(Math.floor(1e4*t.stakeBalanceOf)/1e4))])]),a("div",{staticClass:"input"},[a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"hello world",whitespace:!0}]}],expression:"['name', {rules: [{ required: true, message: 'hello world', whitespace: true}]}]"}],attrs:{autocomplete:"autocomplete",size:"large",placeholder:"0",suffix:"sROO"},model:{value:t.unstakeInput.value,callback:function(e){t.$set(t.unstakeInput,"value",e)},expression:"unstakeInput.value"}})],1)],1),a("div",{staticClass:"progress"},[a("a-space",[a("a-button",{attrs:{type:"default",shape:"round"},on:{click:function(e){return t.onUnStakeValueInput(.25)}}},[t._v(" 25% ")]),a("a-button",{attrs:{type:"default",shape:"round"},on:{click:function(e){return t.onUnStakeValueInput(.5)}}},[t._v(" 50% ")]),a("a-button",{attrs:{type:"default",shape:"round"},on:{click:function(e){return t.onUnStakeValueInput(.75)}}},[t._v(" 75% ")]),a("a-button",{attrs:{type:"default",shape:"round"},on:{click:function(e){return t.onUnStakeValueInput(1)}}},[t._v(" 100% ")])],1)],1),a("div",{staticClass:"button"},[a("a-button",{attrs:{size:"large",type:"primary",disabled:t.unstakeInput.buttonDisable},on:{click:t.onClickUnStake}},[t._v(t._s(t.$t("pledge.unstake")))])],1),a("div",{staticClass:"tips"},[t._v(" "+t._s(t.unstakeInput.tips)+" ")])])])]),a("div",{staticClass:"reward-area flex-row"},[a("div",{staticClass:"rewards"},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("pledge.card.rooEarned"))+":")]),a("span",{staticClass:"value"},[t._v(t._s(Math.floor(100*t.rooEarned)/100))])]),a("div",{staticClass:"button"},[a("a-button",{attrs:{size:"default",type:"primary",disabled:t.canDrawEarned<=0},on:{click:t.onClickClaim}},[t._v(t._s(t.$t("pledge.card.claim")))])],1)])]):t._e(),t.modalVisible?a("a-modal",{class:{},attrs:{visible:t.modalVisible,width:t.isMobile?"100vw":"1158px",dialogClass:t.isMobile?"deposit-modal-m":"deposit-modal",maskClosable:!0,closable:!0,footer:null},on:{cancel:t.closeModalDeposit}},[t.isMobile?t._e():a("div",{attrs:{slot:"closeIcon"},slot:"closeIcon"},[a("div",{staticClass:"cancel"},[a("a-icon",{style:{fontSize:"40px",color:"#7112CE"},attrs:{type:"close-circle"}})],1)]),t.isMobile?a("div",{staticClass:"header"},[a("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("pledge.modal.title"))+" ")])]):t._e(),a("div",{staticClass:"content flex-col"},[t.isMobile?t._e():a("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("pledge.modal.title"))+" ")]),a("div",{staticClass:"input-group flex-col"},[a("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("pledge.walletBalance"))+"： "),a("span",{staticClass:"value"},[t._v(t._s(Math.floor(1e4*parseFloat(t.rooBalance))/1e4))])]),a("div",{staticClass:"input"},[a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"hello world",whitespace:!0}]}],expression:"['name', {rules: [{ required: true, message: 'hello world', whitespace: true}]}]"}],attrs:{autocomplete:"autocomplete",size:"large",placeholder:"0",suffix:"ROO"},model:{value:t.rooInput.value,callback:function(e){t.$set(t.rooInput,"value",e)},expression:"rooInput.value"}})],1)],1),a("div",{staticClass:"progress"},[a("a-space",[a("a-button",{attrs:{type:"default",shape:"round"},on:{click:function(e){return t.onRooValueInput(.25)}}},[t._v(" 25% ")]),a("a-button",{attrs:{type:"default",shape:"round"},on:{click:function(e){return t.onRooValueInput(.5)}}},[t._v(" 50% ")]),a("a-button",{attrs:{type:"default",shape:"round"},on:{click:function(e){return t.onRooValueInput(.75)}}},[t._v(" 75% ")]),a("a-button",{attrs:{type:"default",shape:"round"},on:{click:function(e){return t.onRooValueInput(1)}}},[t._v(" 100% ")])],1)],1),a("div",{staticClass:"button"},[a("a-button",{attrs:{size:"large",type:"primary",disabled:t.rooInput.buttonDisable},on:{click:t.onClickDeposit}},[t._v(t._s(t.$t("pledge.deposit")))])],1)]),a("div",{staticClass:"tips"},[t._v(" "+t._s(t.rooInput.tips)+" ")])])]):t._e(),t.loadingModalVisible?a("a-modal",{class:{},attrs:{visible:t.loadingModalVisible,width:(t.isMobile,"112px"),dialogClass:"loading-modal",maskClosable:!0,closable:!1,footer:null,centered:""}},[a("div",{staticClass:"content"},[a("a-spin",{attrs:{tip:t.$t("pledge.loading")}})],1)]):t._e(),a("a-modal",{class:{"popup-accrued-card":!t.isMobile,"popup-accrued-card-m":t.isMobile},attrs:{visible:t.allowanceModalVisible,width:"500px",closable:!0},on:{cancel:function(e){t.allowanceModalVisible=!1}}},[a("div",{staticStyle:{"text-align":"right"}},[a("a-card",{attrs:{title:" ",bordered:!1,headStyle:{"text-align":"center"}}},[a("a-card-grid",{staticStyle:{width:"100%","text-align":"left"}},[a("b",[t._v(t._s(t.$t("pledge.approveTips")))])])],1)],1),a("template",{slot:"footer"},[a("a-button",{key:"back",staticClass:"btnAccued",staticStyle:{width:"100%",height:"50px","margin-right":"5px"},on:{click:t.onClickApprove}},[t._v(" "+t._s(t.$t("pledge.approve"))+" ")])],1)],2)],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"separator flex-row"},[a("div",{staticClass:"blank-area"}),a("div",{staticClass:"line"}),a("div",{staticClass:"blank-area"})])}],o=(a("d3b7"),a("25f0"),a("96cf"),a("1da1")),i=a("5530"),r=a("5880"),l=a("c030"),c=a("4d8a"),u=a("b775"),d={name:"Pledge.vue",i18n:a("89a6"),data:function(){return{inited:!1,stakeInputValue:0,modalVisible:!1,allowanceModalVisible:!1,allowanceModalType:"sROO",loadingModalVisible:!1,apy:0,totalSupply:0,stakeBalanceOf:0,totalStake:0,stronkBalanceOf:0,lockEarned:0,canDrawEarned:0,totalRewards:0,rooAddress:"",sRooAddress:"",rooObj:{},sRooObj:{},rooBalance:0,rooInput:{value:0,buttonDisable:!0,tips:""},stakeInput:{value:0,buttonDisable:!0,tips:""},unstakeInput:{value:0,buttonDisable:!0,tips:""},hasApproved_ROO:!1,stakeEnable:!1,timer:{}}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(r["mapState"])("setting",["isMobile"])),Object(r["mapState"])("coins",["walletAddress","provider","addressesObj","loadingAddresses"])),Object(r["mapGetters"])("coins",["stakeObj","stronkObj"])),{},{rooEarned:function(){return this.lockEarned+this.canDrawEarned}}),watch:{"rooInput.value":function(t,e){var a=parseFloat(this.rooBalance);this.checkInputValue(this.rooInput,t,e,a)},"stakeInput.value":function(t,e){var a=parseFloat(this.stronkBalanceOf);this.checkInputValue(this.stakeInput,t,e,a)},"unstakeInput.value":function(t,e){var a=parseFloat(this.stakeBalanceOf);this.checkInputValue(this.unstakeInput,t,e,a)},loadingAddresses:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.loadingAddresses){e.next=4;break}return e.next=3,t.init();case 3:t.loadBasicData();case 4:case"end":return e.stop()}}),e)})))()},isMobile:function(){window.location.reload()}},mounted:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.loadingAddresses){e.next=4;break}return e.next=3,t.init();case 3:t.loadBasicData();case 4:t.timer=setInterval(t.loadBasicData,1e4);case 5:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){clearInterval(this.timer)},destroyed:function(){},methods:{onClickClaim:function(){var t=this;this.loadingModalVisible=!0,this.stakeObj.ClaimRoo(this.walletAddress).then((function(e){e.wait().then((function(e){t.loadBasicData(),t.loadingModalVisible=!1}))})).catch((function(e){t.loadingModalVisible=!1}))},onClickApprove:function(){"sROO"==this.allowanceModalType?this.approveSRoo():this.approveRoo()},checkInputValue:function(t,e,a,n){return isNaN(e)?(t.tips=this.$t("pledge.modal.invalidInput"),t.buttonDisable=!0,!1):e>n?(t.buttonDisable=!0,t.tips=this.$t("pledge.modal.noEnoughBalance"),!1):"0"!==e.toString()?(t.buttonDisable=!1,t.tips="",!0):(t.buttonDisable=!0,void(t.tips=""))},init:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.inited){e.next=2;break}return e.abrupt("return");case 2:return n=t.provider.getSigner(t.walletAddress),e.next=5,t.stronkObj.rewardAddress().then((function(e){t.rooAddress=e;var s=a("7b90"),o=new l["a"].Contract(e,s.abi,n);t.rooObj=o}));case 5:return e.next=7,t.stakeObj.stronkToken().then((function(e){t.sRooAddress=e;var s=a("7b90"),o=new l["a"].Contract(e,s.abi,n);t.sRooObj=o}));case 7:s=a("6c5b")("./"+t.addressesObj.stakeHelper.abiFile),t.stakeHelper=new l["a"].Contract(t.addressesObj.stakeHelper.address,s.abi,n),t.inited=!0;case 10:case"end":return e.stop()}}),e)})))()},loadBasicData:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Object(u["e"])("http://18.166.243.236:9727/apy",u["a"].GET).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=a.data,t.totalRewards=parseFloat(Object(c["formatEther"])(Object(c["parseUnits"])(n.totalReward,0))),t.totalStake=parseFloat(Object(c["formatEther"])(Object(c["parseUnits"])(n.totalStake,0))),t.totalSupply=parseFloat(Object(c["formatEther"])(Object(c["parseUnits"])(n.totalStronk,0))),t.apy=n.aprValue,t.stakeEnable="1"===n.onOff.toString();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.rooObj.balanceOf(t.walletAddress).then((function(e){t.rooBalance=parseFloat(Object(c["formatEther"])(e))})),t.stronkObj.balanceOf(t.walletAddress).then((function(e){t.stronkBalanceOf=parseFloat(Object(c["formatEther"])(e))})),t.stakeObj.balanceOf(t.walletAddress).then((function(e){t.stakeBalanceOf=parseFloat(Object(c["formatEther"])(e))})),t.stakeHelper.CalculateRooDistribute(t.walletAddress).then((function(e){var a=e[0],n=e[1];t.lockEarned=parseFloat(Object(c["formatEther"])(a)),t.canDrawEarned=parseFloat(Object(c["formatEther"])(n))}));case 5:case"end":return e.stop()}}),e)})))()},onRooValueInput:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=parseFloat(e.rooBalance),e.rooInput.value=Math.floor(n*t*1e4)/1e4;case 2:case"end":return a.stop()}}),a)})))()},onStakeValueInput:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=parseFloat(e.stronkBalanceOf),e.stakeInput.value=Math.floor(n*t*1e4)/1e4;case 2:case"end":return a.stop()}}),a)})))()},onUnStakeValueInput:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=parseFloat(e.stakeBalanceOf),e.unstakeInput.value=Math.floor(n*t*1e4)/1e4;case 2:case"end":return a.stop()}}),a)})))()},onClickDeposit:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.checkAllowance_Roo();case 2:if(a=e.sent,a){e.next=5;break}return e.abrupt("return");case 5:if(n=t.checkInputValue(t.rooInput,t.rooInput.value,0,t.rooBalance),n){e.next=8;break}return e.abrupt("return");case 8:return t.modalVisible=!1,t.loadingModalVisible=!0,e.next=12,t.stronkObj.Deposit(Object(c["parseEther"])(t.rooInput.value.toString())).then((function(e){e.wait().then((function(e){t.loadBasicData(),t.rooInput.value=0,t.loadingModalVisible=!1,t.modalVisible=!0}))})).catch((function(e){t.loadingModalVisible=!1}));case 12:case"end":return e.stop()}}),e)})))()},onClickStake:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.checkAllowance_SRoo();case 2:if(a=e.sent,a){e.next=5;break}return e.abrupt("return");case 5:if(n=t.checkInputValue(t.stakeInput,t.stakeInput.value,0,t.stronkBalanceOf),n){e.next=8;break}return e.abrupt("return");case 8:return t.loadingModalVisible=!0,e.next=11,t.stakeObj.Deposit(Object(c["parseEther"])(t.stakeInput.value.toString())).then((function(e){e.wait().then((function(e){t.loadBasicData(),t.stakeInput.value=0,t.stakeInput.buttonDisable=!0,t.loadingModalVisible=!1}))})).catch((function(e){t.loadingModalVisible=!1}));case 11:case"end":return e.stop()}}),e)})))()},onClickUnStake:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.checkInputValue(t.unstakeInput,t.unstakeInput.value,0,t.stakeBalanceOf),a){e.next=3;break}return e.abrupt("return");case 3:return t.loadingModalVisible=!0,e.next=6,t.stakeObj.Withdraw(Object(c["parseEther"])(t.unstakeInput.value.toString())).then((function(e){e.wait().then((function(e){t.loadBasicData(),t.unstakeInput.value=0,t.unstakeInput.buttonDisable=!0,t.loadingModalVisible=!1}))})).catch((function(e){t.loadingModalVisible=!1}));case 6:case"end":return e.stop()}}),e)})))()},checkAllowance_SRoo:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=!1,e.next=3,t.sRooObj.allowance(t.walletAddress,t.addressesObj.stake.address).then((function(e){"0"==e.toString()?(t.loadingModalVisible=!1,t.allowanceModalVisible=!0,t.allowanceModalType="sROO"):(t.loadingModalVisible=!1,t.allowanceModalVisible=!1,a=!0)}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))()},checkAllowance_Roo:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=!1,e.next=3,t.rooObj.allowance(t.walletAddress,t.addressesObj.stronk.address).then((function(e){"0"==e.toString()?(t.loadingModalVisible=!1,t.allowanceModalType="ROO",t.allowanceModalVisible=!0):(t.loadingModalVisible=!1,t.allowanceModalVisible=!1,a=!0)}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))()},openModalDeposit:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.checkAllowance_Roo();case 2:a=e.sent,a&&(t.modalVisible=!0);case 4:case"end":return e.stop()}}),e)})))()},approveRoo:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.allowanceModalVisible=!1,t.loadingModalVisible=!0,t.rooObj.approve(t.addressesObj.stronk.address,l["a"].constants.MaxUint256).then((function(t){})).catch((function(e){t.$message.error(t.$t("enableFailed")+e.message)})),t.rooObj.on("Approval",(function(e,a,n){t.checkAllowance_Roo()}));case 4:case"end":return e.stop()}}),e)})))()},approveSRoo:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.allowanceModalVisible=!1,t.loadingModalVisible=!0,t.sRooObj.approve(t.addressesObj.stake.address,l["a"].constants.MaxUint256).then((function(t){})).catch((function(e){t.$message.error(t.$t("enableFailed")+e.message)})),t.sRooObj.on("Approval",(function(e,a,n){t.checkAllowance_SRoo()}));case 4:case"end":return e.stop()}}),e)})))()},closeModalDeposit:function(t){this.modalVisible=!1}}},p=d,v=(a("ea96"),a("bca5"),a("0c7c")),b=Object(v["a"])(p,n,s,!1,null,"0742154f",null);e["default"]=b.exports},"87f5":function(t,e,a){},"89a6":function(t,e){t.exports={messages:{CN:{errorMessage:{connectToWalletFirst:"请先连接钱包",failedToMortgage:"抵押失败:",failedToCancelMortgage:"取消抵押失败:",failedToActive:"启用失败：",invalidInputAmount:"输入金额非法",maximumDepositAmount:"最大存款金额为",depositFailed:"存款失败:",withdrawFailed:"取款失败:",loanFailed:"借款失败:",repaymentFailed:"还款失败:",transactionFailed:"交易失败，错误码:",errorInfo:"错误信息:",liquidateFailed:"清算失败:"},depositList:{totalSupply:"存款总规模",totalBorrow:"借款总规模",rooPrice:"ROO价格",connectToWallet:"连接到钱包",transactionProcessing:"交易处理中",transactionConfirming:"交易确认中",transComUpdateData:"交易完成，正在更新数据...",ok:"确认",cancel:"取消",close:"关闭",detail:"概览",auditingAgency:"审计机构",partner:"合作伙伴",person:{text:"我的持仓",symbol:"币种",deposit:"存款余额",supplyAPY:"存款利率",balanceOfBorrow:{text:"借款余额",filter:{text:"我的借款"}},borrowRate:"借款利率",options:{text:"操作",depositAndDraw:"存取",debit:"借贷"},collateral:"抵押"},markets:{text:"市场",symbol:"币种",totalSupply:"存款规模",supplyAPY:"存款利率",totalBorrow:{text:"借款规模",filter:{text:"市场"}},borrowRate:"借款利率",options:{text:"操作",depositAndDraw:"存取",debit:"借贷"},collateral:"抵押"}},liquidation:{liquidationPool:"清算池",borrowingLimit:"借款额",assetName:"质押资产",assetSupply:"质押额度",risk:"风险值",liquidate:"清算"},liquidationEx:{header:{title:"清算池(0个仓位)",info:"暂无清算池列表"},table:{account:"账户",totalBorrowUSDT:"借款额",totalSupplyUSDT:"抵押额",rate:"健康",operation:"操作",inner:{symbol:"币种",borrowBalance:"借款额",assetSupply:"质押额"},detail:"详情",fold:"收起",risk:"高风险状态，即将被清算",liquidate:"清算",assetRisk:"资产风险"},tips:"要向复合协议提供或偿还{{innerCurRecord.name}},您需要先进行授权",enable:"授权",transactionConfirm:"交易确认"},pledge:{apy:"APR",totalSupply:"存款总量",deposit:"存入",stake:"质押",unstake:"解除质押",balanceOfROO:"钱包余额",approveTips:"您需要先进行授权！",walletBalance:"钱包余额",approve:"授权",loading:"处理中...",card:{stakeBalance:"总质押数量",rooEarned:"累计 ROO 奖励数量",avaliableBalance:"可质押sROO数量",stakedBalance:"已质押sROO数量",totalRewards:"已分配收益",claim:"提取收益"},modal:{title:"存入ROO",noEnoughBalance:"余额不够",invalidInput:"无效输入"}}},US:{errorMessage:{connectToWalletFirst:"Please connect to wallet at first",failedToMortgage:"Failed to mortgage:",failedToCancelMortgage:"Failed to cancel mortgage:",failedToActive:"Failed to active:",invalidInputAmount:"Illegal amount entered",maximumDepositAmount:"The maximum deposit amount is",depositFailed:"Deposit failed:",withdrawFailed:"Withdraw failed:",loanFailed:"Loan failed:",repaymentFailed:"Repayment failed:",transactionFailed:"Transaction failed, error code:",errorInfo:"error information:"},depositList:{totalSupply:"Total Supply",totalBorrow:"Total Borrow",rooPrice:"ROO Price",connectToWallet:"Connect to wallet",transactionProcessing:"Transaction processing",transactionConfirming:"Pending",transComUpdateData:"Transaction completed, updating data ...",close:"close",detail:"Detail",ok:"Ok",cancel:"Cancel",auditingAgency:"Auditing Agency",partner:"Partner",person:{text:"My Position",symbol:"Assets",deposit:"Supply Balance",supplyAPY:"Supply APY",balanceOfBorrow:{text:"Borrow Balance",filter:{text:"My Borrow"}},borrowRate:"Borrow APY",options:{text:"Management",depositAndDraw:"Withdraw",debit:"Collateral"},collateral:"Collateral"},markets:{text:"Markets",symbol:"Markets",totalSupply:"Total Supply",supplyAPY:"Supply APY",totalBorrow:{text:"Total Borrow",filter:{text:"Markets"}},borrowRate:"Borrow APY",options:{text:"Management",depositAndDraw:"Withdraw",debit:"Borrow"},collateral:"Collateral"}},liquidation:{liquidationPool:"Liquidation Pool",borrowingLimit:"Borrowing Limit",assetName:"Asset Name",assetSupply:"Asset Supply",risk:"Risk",liquidate:"Liquidate"},liquidationEx:{header:{title:"Liquidation Pool (none)",info:"None liquidation pool list"},table:{account:"Account",totalBorrowUSDT:"Total Borrow",totalSupplyUSDT:"Total Supply",rate:"Rate",operation:"Operation",inner:{symbol:"Symbol",borrowBalance:"Borrow Balance",assetSupply:"Asset Supply"},detail:"Detail",fold:"fold",risk:"high risk state",liquidate:"Liquidate",assetRisk:"Risk"},tips:"To supply or return {{record.name}} to the protocol, you need to approve it first",enable:"Approve"},pledge:{apy:"APR",loading:"Loading...",totalSupply:"TVL",stake:"Stake",unstake:"Unstake",deposit:"Deposit",balanceOfROO:"ROO balance",approve:"Approve",card:{stakeBalance:"Total stake",rooEarned:"ROO earned",avaliableBalance:"Avaliable sROO balance",stakedBalance:"Staked balance",totalRewards:"Total reward",claim:"Claim"},modal:{title:"Depositing ROO",noEnoughBalance:"Not enough balance",invalidInput:"invalid input"},approveTips:"You need to approve first",walletBalance:"Wallet balance"}},HK:{depositList:{},liquidation:{}}}}},a924:function(t,e,a){},bca5:function(t,e,a){"use strict";var n=a("a924"),s=a.n(n);s.a},ea96:function(t,e,a){"use strict";var n=a("87f5"),s=a.n(n);s.a}}]);